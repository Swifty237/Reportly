<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets" lang="fr">

<h:head>
	<title>Reportly App</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputStylesheet library="css" name="template.css" />
	<ui:insert name="styles" />
</h:head>

<h:body>
	<h:outputScript library="js" name="bootstrap.bundle.min.js" />
	<div id="container">

		<div id="header">

			<div>
				<h:graphicImage library="images" name="logo.png"
					alt="Wildfly dual brand logo" class="logo" />
			</div>

			<div>
				<h:form>
					<div class="lien">
						<!-- AffichÃ© tout le temps (fragment de page) -->


						<ui:fragment rendered="#{!loginBean.isUserLoggedIn()}">
							<p:link outcome="index.xhtml">Home</p:link>
						</ui:fragment>

						<ui:fragment rendered="#{loginBean.id !=null}">
							<p:link outcome="register.xhtml">Ajouter un membre</p:link>
						</ui:fragment>

						<ui:fragment rendered="#{!loginBean.isUserLoggedIn()}">
							<p:link outcome="registerEsn.xhtml">Sign Up</p:link>
						</ui:fragment>

                        <p:link outcome="subscription.xhtml">Abonnement</p:link>
						<ui:fragment rendered="#{loginBean.isUserLoggedIn()}">

							<p:commandLink action="#{loginBean.logout()}">Sign Out (#{loginBean.loginViewModel.email})</p:commandLink>


							<p:link outcome="showAllDocuments.xhtml">Gestion des documents</p:link>
						</ui:fragment>

						<ui:fragment rendered="#{not loginBean.isUserLoggedIn()}">
							<p:link outcome="login.xhtml">SignIn</p:link>
						</ui:fragment>
					</div>
				</h:form>
			</div>
		</div>

		<div id="content" style="border: double; padding: 10px; margin: 10px;">
			<ui:insert name="content">
                [Template content will be inserted here]
         	</ui:insert>
		</div>

		<div id="footer">
			<div>
				<p>You have successfully deployed a Java EE 7 Enterprise
					Application.</p>
				<h:graphicImage library="images" name="wildfly_400x130.jpg"
					alt="Wildfly logo" />
			</div>
		</div>
	</div>
</h:body>
</html>
