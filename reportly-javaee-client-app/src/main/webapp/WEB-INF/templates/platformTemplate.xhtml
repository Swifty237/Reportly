<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets" lang="fr">

<h:head>
	<title>Reportly App</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputStylesheet library="css" name="all.min.css" />
	<h:outputStylesheet library="css" name="template.css" />
	<ui:insert name="styles" />
</h:head>

<h:body>
	<h:outputScript library="js" name="bootstrap.bundle.min.js" />
	<script src="https://kit.fontawesome.com/64a8132751.js"
		crossorigin="anonymous"></script>

	<div id="container">

		<div id="header">
			<div>
				<h:graphicImage library="images" name="logo.png"
					alt="Reportly platform logo ..." class="logo" />
			</div>

			<div class="me-4">
				<div class="row lien">

					<ul class="nav">

						<!-- Affiché tout le temps (fragment de page) -->
						<ui:fragment rendered="#{not loginBean.isUserLoggedIn()}">

							<li class="nav-item"><p:link outcome="index.xhtml"
									class="text-white me-4">
									<i class="fa-solid fa-home me-2"></i>
								 			Home
								 		</p:link></li>

							<li class="nav-item"><p:link outcome="registerEsn.xhtml"
									class="text-white me-4">
									<i class="fa-solid fa-building me-2"></i>
								 			Sign Up
							 	 		</p:link></li>

							<li class="nav-item"><p:link outcome="login.xhtml"
									class="text-white me-4">
									<i class="fa-solid fa-arrow-right-to-bracket me-2"></i> 
											Sign in
										</p:link></li>

							</ui:fragment>



						<ui:fragment rendered="#{loginBean.isUserLoggedIn()}">
							<li class="nav-item">
							<h:form>
								<p:commandLink action="#{loginBean.logout()}" class="text-white me-4"><i class="fa-solid fa-right-from-bracket me-2"></i> (#{loginBean.loginViewModel.email})
								</p:commandLink>
							</h:form>
							</li>
						</ui:fragment>

						<ui:fragment rendered="true">

							<li class="nav-item"><p:link outcome="aboutUs.xhtml"
									class="text-white me-4">
									<i class="fa-solid fa-circle-info me-2"></i>
										A propos
								</p:link></li>

						</ui:fragment>

					</ul>

				</div>
			</div>
		</div>

		<ui:fragment rendered="#{loginBean.isUserLoggedIn()}">
			<div class="row bg-light">

				<div class="col-2 border-end shadow bg-light">

					<h2
						class="text-center fw-bold text-decoration-underline border bg-reportly-lbl py-2 rounded text-white mt-4">REPORTLY</h2>

					<div class="d-flex side-nav align-items-center">
						<ul class="nav flex-column ms-4">
							

							<ui:fragment rendered="#{loginBean.userRole == 'EMPLOYEE'}" >
							
								<li class="nav-item mb-3"><i
								class="fa-solid fa-house text-primary me-2"></i> 
								<p:link outcome="dashboardEmployee.xhtml">Accueil</p:link></li>

								<li class="nav-item mb-3"><i
									class="fa-solid fa-business-time text-primary me-2"></i> <p:link outcome="employeeCraManagement.xhtml">Temps et activités</p:link>
								</li>
								<li class="nav-item mb-3"><i
									class="fa-solid fa-circle-stop text-primary me-2"></i> <p:link outcome="creationAbsence.xhtml">Congé et Absences</p:link>
								</li>

								<li class="nav-item mb-3"><i
									class="fa-solid fa-euro-sign text-primary me-3"></i> <p:link
										outcome="expenseReport.xhtml">Notes de frais</p:link></li>
								<li class="nav-item mb-3"><i
									class="fa-solid fa-kitchen-set text-primary me-2"></i> <p:link>Compétences</p:link>
								</li>
								<li class="nav-item mb-3"><i
									class="fa-solid fa-diagram-project text-primary me-2"></i> <p:link>Projets</p:link>
								</li>

							</ui:fragment>

							<ui:fragment rendered="#{loginBean.isUserConnectedAsEsnAdmin()}">

								<li class="nav-item mb-3"><i
								class="fa-solid fa-house text-primary me-2"></i> 
								<p:link outcome="ecranEsn.xhtml">Accueil</p:link></li>

								<li class="nav-item mb-3"><p:link outcome="register.xhtml"> <i class="fa-solid fa-user-plus me-2"></i> Ajouter un membre</p:link>
								</li>

								<li class="nav-item mb-3"><p:link outcome="team.xhtml"> <i class="fa-solid fa-users me-2" ></i> Former les équipes</p:link>
								</li>
								
								<li class="nav-item mb-3"><p:link outcome="espaceAbonnements.xhtml"> <i class="fa-solid fa-list me-2"></i> Mes abonnements</p:link>
								</li>
								
								<li class="nav-item mb-3"><p:link outcome="showAllCustomers.xhtml"> <i class="fa-solid fa-building me-2"></i> Mes clients</p:link>
								</li>

							</ui:fragment>
							
							
							<ui:fragment rendered="#{loginBean.userRole == 'TEAM_MANAGER'}" >

								<li class="nav-item mb-3"><i
								class="fa-solid fa-house text-primary me-2"></i> 
								<p:link outcome="dashboardManager.xhtml">Accueil</p:link></li>

								<li class="nav-item mb-3"><p:link outcome="listUser.xhtml"> <i class="fa-solid fa-users me-2" ></i> Mon équipe</p:link>
								</li>

								<li class="nav-item mb-3"><p:link outcome="team.xhtml"> <i class="fa-solid fa-file"></i> Les C.R.A. </p:link>
								</li>
								
								<li class="nav-item mb-3"><p:link outcome="showAllContracts.xhtml"> <i class="fa-solid fa-list me-2"></i> Les projets</p:link>
								</li>
								
								<li class="nav-item mb-3"><p:link outcome="showAllCustomers.xhtml"> <i class="fa-solid fa-building me-2"></i> Mes clients</p:link>
								</li>

							</ui:fragment>
							
						</ul>
					</div>
				</div>

				<div class="col-10">

					<div class="row justify-content-between align-items-center">
						<div class="col-4">
							<ul class="nav">
								
								<li class="nav-item px-2 me-2 border-end"><p:link>Planning</p:link></li>

								<li class="nav-item px-2 me-2 border-end"><p:link
										outcome="showAllDocuments">Documents</p:link></li>

								<li class="nav-item px-2 me-2 border-end"><p:link>Formation</p:link></li>
								
								<ui:fragment rendered="#{loginBean.isUserConnectedAsEsnAdmin()}">
									<li class="nav-item px-2 me-2 border-end"><p:link
										outcome="registerCustomer.xhtml">Ajouter un client</p:link>
									</li>
								</ui:fragment>
								
							</ul>
						</div>

						<div class="d-flex col-5">
							<p:inputText id="search-input" placeholder="Recherche..."
								type="search" size="50" />

							<div>
								<button class="btn btn-light">
									<i class="fa-solid fa-magnifying-glass fs-4"></i>
								</button>
							</div>
						</div>

						<div class="col-2 me-3">

							<div class="row justify-content-end">
								<div class="col-7">
									<div class="d-flex justify-content-center">

										<p:card styleClass="profile-card mb-4">
											<f:facet name="header">
												<p:graphicImage name="default-image.png" library="images"
													alt="User image" class="profile-image-size" />
											</f:facet>

											<f:facet name="title">
												<h6 class="text-center">#{createAbsenceBean.account.pers.fullName}</h6>
											</f:facet>

										</p:card>
									</div>

								</div>

							</div>

						</div>
					</div>

					<div class="row justify-content-around mb-4">
					
						<div class="col-11">
							<div id="content">
								<ui:insert name="content">
                				[Template content will be inserted here]
         					</ui:insert>
							</div>

						</div>
						
					</div>
				</div>

			</div>
		</ui:fragment>


		<ui:fragment rendered="#{!loginBean.isUserLoggedIn()}">
			<div class="">
				<ui:insert name="content-2">
                		[Template content will be inserted here]
         		</ui:insert>
			</div>

		</ui:fragment>


	</div>

	<div id="footer">
		<div>

			<p>Copyright -- 2023 -- Reportly Dev Team.</p>
			<!-- 				<h:graphicImage library="images" name="logo.png" alt="Reportly platform footer banner ..." height="50%" width="50%"/> -->

		</div>
	</div>
</h:body>
</html>
