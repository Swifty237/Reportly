<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/platformTemplate.xhtml">
	<ui:define name="content">
		<div class="row bg-light">
			<div class="col-2 border-end shadow bg-light">
				<h2
					class="text-center fw-bold text-decoration-underline border bg-reportly-lbl py-2 rounded text-white mt-4">REPORTLY</h2>
				<div class="d-flex side-nav align-items-center">
					<ul class="nav flex-column ms-4">
						<li class="nav-item mb-3"><i
							class="fa-solid fa-house text-primary me-2"></i> <p:link
								outcome="index.xhtml">Accueil</p:link></li>
						<li class="nav-item mb-3"><i
							class="fa-solid fa-business-time text-primary me-2"></i> <p:link>Temps et activités</p:link>
						</li>
						<li class="nav-item mb-3"><i
							class="fa-solid fa-circle-stop text-primary me-2"></i> <p:link>Congé et Absences</p:link>
						</li>
						<li class="nav-item mb-3"><i
							class="fa-solid fa-euro-sign text-primary me-3"></i> <p:link
								outcome="expenseReport.xhtml">Notes de frais</p:link></li>
						<li class="nav-item mb-3"><i
							class="fa-solid fa-kitchen-set text-primary me-2"></i> <p:link>Compétences</p:link>
						</li>
						<li class="nav-item mb-3"><i
							class="fa-solid fa-diagram-project text-primary me-2"></i> <p:link>Projets</p:link>
						</li>
					</ul>
				</div>
			</div>
			<div class="col-10">
				<div class="row justify-content-between align-items-center">
					<h4 class="text-secondary text-center">Creation d'une nouvelle
						Absence</h4>
					<div class="col-4">
						<ul class="nav">
							<li class="nav-item px-2 me-2 border-end"><p:link
									outcome="dashboardEmployee.xhtml">Mon Espace</p:link></li>
							<li class="nav-item px-2 me-2 border-end"><p:link>Planning</p:link></li>
							<li class="nav-item px-2 me-2 border-end"><p:link
									outcome="showAllDocuments">Documents</p:link></li>
							<li class="nav-item px-2 me-2 border-end"><p:link>Formation</p:link></li>
						</ul>
					</div>
					<div class="d-flex col-5">
						<p:inputText id="search-input" placeholder="Recherche..."
							type="search" size="50" />
						<div>
							<button class="btn btn-light">
								<i class="fa-solid fa-magnifying-glass fs-4"></i>
							</button>
						</div>
					</div>
					<div class="col-2 me-3">
						<div class="row justify-content-end">
							<div class="col-7">
								<div class="d-flex justify-content-center">
									<p:card styleClass="profile-card mb-4">
										<f:facet name="header">
											<p:graphicImage name="default-image.png" library="images"
												alt="User image" class="profile-image-size" />
										</f:facet>
										<f:facet name="title">
											<h6 class="text-center">Paul Martin</h6>
										</f:facet>
									</p:card>
								</div>
							</div>
							<div class="col-3 d-flex flex-column justify-content-center">
								<button class="btn btn-outline-secondary mb-2">
									<i class="fa-solid fa-gear"></i>
								</button>
								<button class="btn btn-outline-secondary">
									<i class="fa-solid fa-arrow-right-from-bracket"></i>
								</button>
							</div>
						</div>
					</div>
				</div>
				<div id="container" class="row justify-content-around mb-4">
					<div class="col-4 shadow d-flex justify-content-center">
						<h:form id="absenceForm" enctype="multipart/form-data">
							<!-- champ nom du salarié -->
							<h6>Salarié :</h6>
							<p:inputText id="float-input" type="text"
								placeholder="Nom Salarié"
								value="#{createAbsenceBean.account.pers.fullName}"
								disabled="true" />
							<br />
							<h6></h6>
							<h6>Choisissez un type d'absence :</h6>
							<h:panelGrid columns="2" cellpadding="5">
								<p:calendar id="datePicker"
									value="#{createAbsenceBean.createAbsenceVm.startAt}"
									showOn="button" size="20" type="text" placeholder="Début"
									pattern="dd/MM/yyyy" />
								<p:calendar id="datePicker2"
									value="#{createAbsenceBean.createAbsenceVm.endAt}"
									showOn="button" size="20" type="text" placeholder="Fin"
									pattern="dd/MM/yyyy" />
							</h:panelGrid>
							<br />
							<h6>Choisissez un type d'absence :</h6>
							<!-- liste déroulante type d'absence  -->
							<div class="Type d'absence">
								<h:selectOneMenu
									value="#{createAbsenceBean.createAbsenceVm.typeAbsence}">
									<f:selectItem itemValue="#{null}"
										itemLabel="Sélectionnez un type d'absence" />
									<f:selectItems value="#{createAbsenceBean.typesAbsences()}"
										var="typeAbsence" itemLabel="#{typeAbsence}"
										itemValue="#{typeAbsence}" />
								</h:selectOneMenu>
							</div>
							<br />
							<h6>Description :</h6>
							<h:outputLabel for="Description" />
							<p:inputTextarea id="absenceDescription" rows="4" cols="30"
								value="#{createAbsenceBean.createAbsenceVm.description}" />
							<br />
							<h6>Document :</h6>
							<h:outputLabel for="AbsenceDocument" />
							<p:fileUpload id="AbsenceDocument" mode="simple" />
							<div class="d-flex justify-content-end m-4">
								<h:commandButton value="Save"
									action="#{createAbsenceBean.save()}" update="messages"
									class="btn btn-primary me-3" />
								<!-- <p:confirm header="save"
									message="Are you sure you want to proceed?"
									icon="pi pi-exclamation-triangle" /> -->
								<p:commandButton value="clear"
									action="#{createAbsenceBean.clear()}"
									styleClass="ui-button-danger" icon="pi pi-times" />
								<!-- <p:confirm header="Confirmation"
									message="Do you want to delete this record?"
									icon="pi pi-info-circle" /> -->

							</div>
						</h:form>
					</div>
					<div class="col-7 shadow">

						<div class="card">
							<h:form id="form">
								<p:dataTable id="Absences" var="absence"
									value="#{createAbsenceBean.listAbsences}">
									<f:facet name="header">
                Historique des absences
            </f:facet>

									<p:column headerText="Type d'absence">
										<h:outputText value="#{absence.typeOfAbsence}" />
									</p:column>
									<p:column headerText="Début">
										<h:outputText value="#{absence.startAt}" />
									</p:column>
									<p:column headerText="Fin">
										<h:outputText value="#{absence.endAt}" />
									</p:column>
									<p:column headerText="Description">
										<h:outputText value="#{absence.description}" />
									</p:column>
								</p:dataTable>

							</h:form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>